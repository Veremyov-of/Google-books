(this["webpackJsonpversion-2"]=this["webpackJsonpversion-2"]||[]).push([[0],{35:function(e,t,o){},36:function(e,t,o){"use strict";o.r(t);o(0);var c=o(13),a=o.n(c),n=o(7),s=o(11),r=o(4),l=o(18),i=o.n(l),b=o(21),u=o(1);function j(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e.books}));function o(){return(o=Object(b.a)(i.a.mark((function o(n){var s;return i.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a(),n.preventDefault(),s=[],o.next=5,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(t.search,"&key=").concat(t.apiKey,"&maxResults=40&orderBy=").concat(t.sorting)).then((function(e){return e.json()})).then((function(e){return s=e}));case 5:console.log(s),e({type:"SEARCH",payload:s}),c();case 8:case"end":return o.stop()}}),o)})))).apply(this,arguments)}var c=function(){e({type:"RENDER_BOOKS"}),a()},a=function(){e({type:"LOADING"})};return Object(u.jsxs)("div",{className:"search",children:[Object(u.jsx)("h1",{className:"search-title",children:"Search for books"}),Object(u.jsxs)("form",{className:"search-form",onSubmit:function(e){return o.apply(this,arguments)},children:[Object(u.jsx)("input",{className:"search-input",onChange:function(t){var o=t.target.value;e({type:"INPUT_CHANGE",payload:o})},type:"text",placeholder:"Search for Books"}),Object(u.jsx)("button",{className:"search-btn",type:"submit",children:"Search"})]}),Object(u.jsxs)("div",{className:"search-filter",children:[Object(u.jsx)("h3",{children:"sorting:"}),Object(u.jsxs)("select",{className:"search-select",value:t.sorting,onChange:function(t){var o=t.target.value;e({type:"SORTING",payload:o})},children:[Object(u.jsx)("option",{value:"relevance",children:"relevance"}),Object(u.jsx)("option",{value:"newest",children:"newest"})]}),Object(u.jsx)("h3",{children:"categories:"}),Object(u.jsxs)("select",{className:"search-select",value:t.categories,onChange:function(t){var o=t.target.value;e({type:"CATEGORIES_CHANGE",payload:o})},children:[Object(u.jsx)("option",{value:"All",children:"All"}),Object(u.jsx)("option",{value:"Art",children:"Art"}),Object(u.jsx)("option",{value:"Biography & Autobiography",children:"Biography"}),Object(u.jsx)("option",{value:"Computers",children:"Computers"}),Object(u.jsx)("option",{value:"History",children:"History"}),Object(u.jsx)("option",{value:"Medical",children:"Medical"}),Object(u.jsx)("option",{value:"Poetry",children:"Poetry"})]})]}),Object(u.jsxs)("h2",{children:["Found ",t.books.length>0?t.totalItems:"0"," results"]})]})}function d(){var e=Object(n.c)((function(e){return e.books}));return Object(u.jsx)("div",{className:"books_wrapp",children:e.books.map((function(e,t){return Object(u.jsxs)(s.b,{className:"link-book",to:"".concat(e.volumeInfo.title),children:[Object(u.jsx)("img",{src:void 0!==e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"./img/noPicture.png",alt:e.volumeInfo.title}),Object(u.jsxs)("div",{className:"book_info",children:[Object(u.jsx)("h2",{className:"book_title",children:void 0===e.volumeInfo.title?"":e.volumeInfo.title.length<60?e.volumeInfo.title:e.volumeInfo.title.slice(0,60)+"..."}),Object(u.jsx)("p",{className:"book_categories",children:void 0!==e.volumeInfo.categories?e.volumeInfo.categories:""}),Object(u.jsx)("p",{className:"book_authors",children:void 0!==e.volumeInfo.authors?e.volumeInfo.authors[0]:""})]})]},t)}))})}function h(){var e=Object(n.b)();return Object(u.jsx)("div",{className:"loadmore-wrapp",children:Object(u.jsx)("button",{className:"loadmore-btn",onClick:function(){e({type:"RENDER_BOOKS"})},children:"Load more"})})}function m(){var e=Object(n.c)((function(e){return e.books.loading}));return Object(u.jsx)("div",{className:"loading_wrapp ".concat(e?"loading_wrapp-active":""),children:Object(u.jsx)("h2",{children:"Loading..."})})}function O(e){var t,o=e.book.volumeInfo,c=null===(t=e.book.searchInfo)||void 0===t?void 0:t.textSnippet;return Object(u.jsx)("div",{className:"section-itemBook",children:Object(u.jsxs)("div",{className:"itemBook",children:[Object(u.jsx)(s.b,{className:"itemBook-link",to:"/",children:"back"}),Object(u.jsx)("img",{className:"itemBook-img",src:void 0!==o.imageLinks?o.imageLinks.thumbnail:"./img/noPicture.png",alt:"img"}),Object(u.jsxs)("div",{className:"itemBook-info",children:[Object(u.jsx)("h1",{className:"itemBook-title",children:null===o||void 0===o?void 0:o.title}),Object(u.jsx)("p",{className:"itemBook-categories",children:null===o||void 0===o?void 0:o.categories}),Object(u.jsx)("p",{className:"itemBook-authors",children:null===o||void 0===o?void 0:o.authors.map((function(e){return e+", "}))})]}),Object(u.jsx)("div",{className:"itemBook-wrapp",children:Object(u.jsx)("p",{className:"itemBook-textSnippet",children:c})})]})})}var v=function(){var e=Object(n.c)((function(e){return e.books}));return Object(u.jsx)(s.a,{basename:"/Google-books",children:Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(r.c,{children:[Object(u.jsxs)(r.a,{exact:!0,path:"/",children:[Object(u.jsx)(j,{}),Object(u.jsx)(d,{}),e.loadMore?Object(u.jsx)(h,{}):"",Object(u.jsx)(m,{})]}),e.books.map((function(e,t){return Object(u.jsx)(r.a,{path:"/".concat(e.volumeInfo.title),children:Object(u.jsx)(O,{book:e})},t)}))]})})})},p=o(15),g=o(23),f=o.n(g),x=o(24),k=o(3),N={totalItems:0,search:"",result:[],books:[],apiKey:"AIzaSyCa2H8jObyJ_7IzjULL4d0aQV8muTgEIzc",categories:"All",sorting:"relevance",loading:!1,number:0,loadMore:!1,stepSearch:0},y=Object(p.b)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_CHANGE":return Object(k.a)(Object(k.a)({},e),{},{search:t.payload});case"SEARCH":return Object(k.a)(Object(k.a)({},e),{},{result:t.payload.items,totalItems:t.payload.totalItems,number:0,books:[],step:0});case"SORTING":return Object(k.a)(Object(k.a)({},e),{},{sorting:t.payload});case"CATEGORIES_CHANGE":return Object(k.a)(Object(k.a)({},e),{},{categories:t.payload});case"LOADING":return Object(k.a)(Object(k.a)({},e),{},{loading:!e.loading});case"RENDER_BOOKS":var o=[];if(0!==e.books.length&&(o=Object(x.a)(e.books)),"All"===e.categories){for(var c=e.number;c<e.number+10;c++)o.push(e.result[c]);return e.number+10===e.result.length?Object(k.a)(Object(k.a)({},e),{},{books:o,loadMore:!1,number:e.number+10}):Object(k.a)(Object(k.a)({},e),{},{books:o,loadMore:!0,number:e.number+10})}for(var a=e.number;a<e.result.length;a++){var n,s;if(void 0!==(null===(n=e.result[a].volumeInfo)||void 0===n?void 0:n.categories)&&(null===(s=e.result[a].volumeInfo)||void 0===s?void 0:s.categories.includes(e.categories))){if(o.length===e.books.length+10)return Object(k.a)(Object(k.a)({},e),{},{books:o,loadMore:!0,number:e.number+a});o.push(e.result[a])}e.stepSearch+=1}return 0===o.length||e.stepSearch===e.result.length?Object(k.a)(Object(k.a)({},e),{},{books:o,loadMore:!1}):e.number+10===e.result.length?Object(k.a)(Object(k.a)({},e),{},{books:o,loadMore:!1,number:e.number+10}):Object(k.a)(Object(k.a)({},e),{},{books:o,loadMore:!0,number:e.number+10});default:return e}}}),I=Object(p.c)(y,Object(p.a)(f.a));o(35);a.a.render(Object(u.jsx)(n.a,{store:I,children:Object(u.jsx)(v,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.49436f1f.chunk.js.map